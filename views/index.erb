<% content_for :end_of_body do %>
  <script>
    var brightness_req = null;
    var color_req = null;

    var get_color = function() {
      return {
        red:   $("#red").slider("value"),
        green: $("#green").slider("value"),
        blue:  $("#blue").slider("value")
      };
    };

    $(document).ready(function() {
      $(".color-slider").slider({
        min: 0,
        max: 255
      });

      $("#brightness").slider("option", "value", 255);

      $("#brightness").on("slide", function(event, ui) {
        if (brightness_req == null) {
          brightness_req = $.post("/brightness",
            { brightness: ui.value },
            function( data, status, xhr ) {
              $("#brightness-value").val(data.brightness);
              brightness_req = null;
            }
          );
        }
      });

    });
  </script>
<% end %>

<div class="page-header">
  <h1>Pixelbot</h1>
</div>

<div class="well clearfix">
  <div class="col-md-4 column">
    <p>
      <b>R</b>
      <input type="text" class="span2" value="" data-slider-min="0" data-slider-max="255" data-slider-step="1" data-slider-value="128" data-slider-id="RC" id="R" data-slider-tooltip="hide" data-slider-handle="round" />
    </p>
    <p>
      <b>G</b>
      <input type="text" class="span2" value="" data-slider-min="0" data-slider-max="255" data-slider-step="1" data-slider-value="128" data-slider-id="GC" id="G" data-slider-tooltip="hide" data-slider-handle="round" />
    </p>
    <p>
      <b>B</b>
      <input type="text" class="span2" value="" data-slider-min="0" data-slider-max="255" data-slider-step="1" data-slider-value="128" data-slider-id="BC" id="B" data-slider-tooltip="hide" data-slider-handle="round" />
    </p>
    <p>
      <b>I</b>
      <input type="text" class="span2" value="" data-slider-min="0" data-slider-max="255" data-slider-step="1" data-slider-value="255" data-slider-id="IC" id="I" data-slider-tooltip="hide" data-slider-handle="round" />
    </p>
  </div>
  <div class="col-md-8 column">
    <div id="RGB"></div>
  </div>
</div>

